import{j as s,F as p,r as _,a as f,_ as h,u as D,b as E,O as B}from"./index.e757aa9d.js";const S="https://raw.githubusercontent.com/RSS1102/canvas/main",w=(n,t,o)=>{let e;const l=new Image;l.src=S+"/src/assets/avatar.png",l.crossOrigin="",l.onload=function(){if(o.src){e=o,console.log("\u66F4\u65B0\u524D\u5BBD\u9AD8",e.height,e.width);const c=e.height/e.width;console.log("\u6BD4\u4F8B",c),e.width=500,e.height=500*c}else e=l;const a=e.width,i=e.height;console.log("\u66F4\u65B0\u540E\u5BBD\u9AD8",a,i),n.setAttribute("width",a.toString()),n.setAttribute("height",i.toString()),t.drawImage(e,0,0,a,i);const u=t.getImageData(0,0,a,i);t.clearRect(0,0,a,i);const g=3;t.beginPath(),t.moveTo(0,0),t.strokeStyle="#000000",t.lineTo(a,0),t.lineTo(a,i),t.lineTo(0,i),t.closePath(),t.stroke();for(let c=0;c<i;c+=g)for(let d=0;d<a;d+=g){let m=d+c*a;u.data[m*4+1],u.data[m*4+2],u.data[m*4+3],u.data[m*4+4]<220&&(t.beginPath(),t.arc(d,c,.8,0,Math.PI*2),t.closePath(),t.fillStyle="#000000",t.fill())}}};const I=n=>{const{getImgDate:t}=n;return s(p,{children:s("input",{type:"file",onChange:e=>{var a;const r=(a=e==null?void 0:e.target)==null?void 0:a.files[0];if(!r)throw"\u8BF7\u9009\u62E9\u56FE\u7247";const l=i=>{const u=new FileReader;u.readAsDataURL(i),u.onload=g=>{t(g.target.result)}};if(r.type==="image/png"||r.type==="image/jpeg"||r.type==="image/jpg")l(r);else throw"\u8BF7\u9009\u62E9\u6B63\u786E\u7684\u56FE\u7247\u7C7B\u578B"}})})},P=()=>{const[n,t]=_.exports.useState(),o=e=>{t(e)};return _.exports.useEffect(()=>{const e=document.querySelector("canvas"),r=e.getContext("2d",{willReadFrequently:!0}),l=document.querySelector("img");e&&w(e,r,l)},[n]),f("div",{className:"home",children:[s(I,{getImgDate:o}),s("img",{src:n}),s("canvas",{})]})},b=Object.assign({"../canvas/index.tsx":()=>h(()=>Promise.resolve().then(()=>O),void 0),"../canvas/risingstars/index.tsx":()=>h(()=>import("./index.a2cadb17.js"),["assets/index.a2cadb17.js","assets/index.522d485d.css","assets/index.e757aa9d.js","assets/index.67d8e5d7.css"]),"../canvas/rotatestart/index.tsx":()=>h(()=>import("./index.02d84790.js"),["assets/index.02d84790.js","assets/index.0e8401f8.css","assets/index.e757aa9d.js","assets/index.67d8e5d7.css"]),"../canvas/tao/index.tsx":()=>h(()=>import("./index.c3d46921.js"),["assets/index.c3d46921.js","assets/index.e757aa9d.js","assets/index.67d8e5d7.css"])});let v=[];Object.entries(b).map(([n,t],o)=>{let e=n.replace(/(^\.\.\/|canvas|\/index\.tsx$)/g,"");e==""&&(e="/"),v.push(e)});function y(){const n=D(),t=E();return f(p,{children:[s("div",{className:"outlet-index",children:v.map((o,e)=>s("i",{children:s("button",{onClick:()=>{n(o)},children:o.slice(o.lastIndexOf("/"))})},e))}),t.pathname==="/"?s(P,{}):s(B,{})]})}const O=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"}));export{y as default};
