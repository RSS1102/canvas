import{j as s,F as p,r as _,a as v,_ as g,u as D,b as E,O as B}from"./index.0a9a905c.js";const I="https://raw.githubusercontent.com/RSS1102/canvas/main",P=(n,t,o)=>{let e;const l=new Image;l.src=I+"/src/assets/avatar.png",l.crossOrigin="",l.onload=function(){if(o.src){e=o,console.log("\u66F4\u65B0\u524D\u5BBD\u9AD8",e.height,e.width);const c=e.height/e.width;console.log("\u6BD4\u4F8B",c),e.width=500,e.height=500*c}else e=l;const a=e.width,i=e.height;console.log("\u66F4\u65B0\u540E\u5BBD\u9AD8",a,i),n.setAttribute("width",a.toString()),n.setAttribute("height",i.toString()),t.drawImage(e,0,0,a,i);const u=t.getImageData(0,0,a,i);t.clearRect(0,0,a,i);const d=3;t.beginPath(),t.moveTo(0,0),t.strokeStyle="#000000",t.lineTo(a,0),t.lineTo(a,i),t.lineTo(0,i),t.closePath(),t.stroke();for(let c=0;c<i;c+=d)for(let m=0;m<a;m+=d){let h=m+c*a;u.data[h*4+1],u.data[h*4+2],u.data[h*4+3],u.data[h*4+4]<220&&(t.beginPath(),t.arc(m,c,.8,0,Math.PI*2),t.closePath(),t.fillStyle="#000000",t.fill())}}};const S=n=>{const{getImgDate:t}=n;return s(p,{children:s("input",{type:"file",onChange:e=>{var a;const r=(a=e==null?void 0:e.target)==null?void 0:a.files[0];if(!r)throw"\u8BF7\u9009\u62E9\u56FE\u7247";const l=i=>{const u=new FileReader;u.readAsDataURL(i),u.onload=d=>{t(d.target.result)}};if(r.type==="image/png"||r.type==="image/jpeg"||r.type==="image/jpg")l(r);else throw"\u8BF7\u9009\u62E9\u6B63\u786E\u7684\u56FE\u7247\u7C7B\u578B"}})})},w=()=>{const[n,t]=_.exports.useState(),o=e=>{t(e)};return _.exports.useEffect(()=>{const e=document.querySelector("canvas"),r=e.getContext("2d",{willReadFrequently:!0}),l=document.querySelector("img");e&&P(e,r,l)},[n]),v("div",{className:"center",children:[s(S,{getImgDate:o}),s("img",{src:n}),s("canvas",{})]})},O=Object.assign({"../canvas/index.tsx":()=>g(()=>Promise.resolve().then(()=>x),void 0),"../canvas/logo/index.tsx":()=>g(()=>import("./index.083e5126.js"),["assets/index.083e5126.js","assets/index.72674dfe.css","assets/index.0a9a905c.js","assets/index.67d8e5d7.css"]),"../canvas/risingstars/index.tsx":()=>g(()=>import("./index.667f4c40.js"),["assets/index.667f4c40.js","assets/index.522d485d.css","assets/index.0a9a905c.js","assets/index.67d8e5d7.css"]),"../canvas/rotatestart/index.tsx":()=>g(()=>import("./index.970173cb.js"),["assets/index.970173cb.js","assets/index.0e8401f8.css","assets/index.0a9a905c.js","assets/index.67d8e5d7.css"]),"../canvas/tao/index.tsx":()=>g(()=>import("./index.6958bae9.js"),["assets/index.6958bae9.js","assets/index.0a9a905c.js","assets/index.67d8e5d7.css"])});let f=[];Object.entries(O).map(([n,t],o)=>{let e=n.replace(/(^\.\.\/|canvas|\/index\.tsx$)/g,"");e==""&&(e="/"),f.push(e)});function b(){const n=D(),t=E();return v(p,{children:[s("div",{className:"outlet-index",children:f.map((o,e)=>s("i",{children:s("button",{onClick:()=>{n(o)},children:o.slice(o.lastIndexOf("/"))})},e))}),t.pathname==="/"?s(w,{}):s(B,{})]})}const x=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"}));export{b as default};
